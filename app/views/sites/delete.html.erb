<% content_for :page_title, @site_name_before_update %>
<%= content_for :before_content, render_breadcrumbs(:delete_site) %>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <h1 class="govuk-heading-l">
      <span class="govuk-caption-l"><%= @site.location_name %></span>
      Are you sure you want to delete this location?
    </h1>

    <p class="govuk-body">Deleting a location is permanent – you can’t undo it. If you need to recreate a location after deleting it, it will have a new location code.</p>

    <h2 class="govuk-heading-m">Confirm delete</h2>

    <%= form_with model: @site,
                  url: provider_recruitment_cycle_site_path(@provider.provider_code, @site.recruitment_cycle_year, @site.id),
                  method: :delete do |form| %>

      <div class="govuk-form-group">
        <%= form.label "confirm_location_name", "Type in the location name to confirm", class: "govuk-label" %>
        <%= form.text_field "confirm_location_name", class: "govuk-input govuk-input--width-10" %>
      </div>

      <%= form.submit "Yes I’m sure – delete this location", class: "govuk-button govuk-button--warning", data: { qa: "location__delete" } %>
    <% end %>

    <p class="govuk-body govuk-!-margin-top-5">
      <%= govuk_link_to(
        "Cancel",
        provider_recruitment_cycle_sites_path(@provider.provider_code, @site.recruitment_cycle_year),
        class: "govuk-link--no-visited-state",
      ) %>
    </p>
  </div>
</div>
